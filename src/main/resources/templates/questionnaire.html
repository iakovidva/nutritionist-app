<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Interactive Questionnaire</title>
    <link href="/css/bootstrap/bootstrap.min.css" rel="stylesheet">
    <script src="/js/bootstrap/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>

<!-- Include the header -->
<div th:replace="fragments/header :: header"></div>


<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header text-center bg-primary text-white">
            <h2>Questionnaire</h2>
        </div>
        <div class="card-body">
            <div class="progress mb-4">
                <div class="progress-bar" role="progressbar"
                     th:style="'width: ' + (${currentStep ?: 1} / 8) * 100 + '%'"
                     aria-valuenow="${currentStep ?: 1}" aria-valuemin="1" aria-valuemax="8">
                </div>
            </div>
            <form th:action="@{/questionnaire/submit}" th:object="${questionnaireData}" th:method="post">
                <div th:replace="~{fragments/questionnaire-sections/step-anthropometric :: step}"></div>
                <div th:replace="~{fragments/questionnaire-sections/step-demographic :: step}"></div>
                <div th:replace="~{fragments/questionnaire-sections/step-dietary-preferences :: step}"></div>
                <div th:replace="~{fragments/questionnaire-sections/step-health-medical :: step}"></div>
                <div th:replace="~{fragments/questionnaire-sections/step-menstrual-cycle :: step}"></div>
                <div th:replace="~{fragments/questionnaire-sections/step-physical-activity :: step}"></div>
                <div th:replace="~{fragments/questionnaire-sections/step-nutrition-goals :: step}"></div>
                <div th:replace="~{fragments/questionnaire-sections/step-work-meal-schedule :: step}"></div>
                <div th:replace="~{fragments/questionnaire-sections/step-submission :: step}"></div>
            </form>
        </div>
    </div>
</div>

<!-- Include the footer -->
<div th:replace="fragments/footer :: footer"></div>

<!-- Include JavaScript -->
<script src="/js/questionnaire.js"></script>
</body>
</html>
